body {
    padding: 0; margin: 0; overflow: hidden;
    font-family: var(--vscode-font-family);
    background-color: var(--vscode-editor-background);
    color: var(--vscode-editor-foreground);
    display: flex; flex-direction: column; height: 100vh;
}

#formula-bar {
    display: flex; align-items: center; height: 44px;
    background: var(--vscode-titleBar-activeBackground);
    border-bottom: 1px solid var(--vscode-panel-border);
    padding: 0 12px; gap: 12px;
}

#editor-container { flex-grow: 1; height: 28px; border: 1px solid var(--vscode-input-border); border-radius: 4px; }

#grid-wrapper { flex-grow: 1; overflow-y: auto; padding: 10px; }

#pension-grid { width: 100%; border-collapse: separate; border-spacing: 0; }

/* Table Headers */
#pension-grid th {
    text-align: left; background: var(--vscode-sideBar-background);
    color: var(--vscode-descriptionForeground);
    padding: 10px; font-size: 0.75rem; text-transform: uppercase;
    border-bottom: 2px solid var(--vscode-panel-border);
}

/* Grouping Headers */
.group-header td {
    background: var(--vscode-sideBarSectionHeader-background);
    color: var(--vscode-sideBarSectionHeader-foreground);
    padding: 12px !important; font-weight: bold; font-size: 0.9em;
}

/* Data Rows */
.data-row td {
    padding: 10px; border-bottom: 1px solid var(--vscode-widget-border);
    transition: background 0.1s;
}

.data-row:hover { background: var(--vscode-list-hoverBackground); }
.selected-row { background: var(--vscode-list-activeSelectionBackground) !important; color: var(--vscode-list-activeSelectionForeground) !important; }

.id-cell { font-family: monospace; opacity: 0.6; width: 60px; }
.label-cell { width: 300px; }
.value-cell { font-family: 'Consolas', monospace; width: 300px; }

/* Badges */
.badge { font-size: 0.7em; padding: 2px 6px; border-radius: 4px; font-weight: bold; color: white; }
.badge.db { background: #005a9e; }
.badge.calc { background: #2d7d32; }
.badge.manual { background: #d97706; }
.badge.const { background: #64748b; }

/* Notes Field */
.note-input {
    width: 100%; background: transparent; border: none;
    color: inherit; font-style: italic; outline: none; opacity: 0.8;
}
.note-input:focus { border-bottom: 1px solid var(--vscode-focusBorder); opacity: 1; }